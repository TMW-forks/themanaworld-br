// NPC Jack:
// 1) Participação na QUEST do arco da floresta. Ver comentários no NPC Alan para mais detalhes.
// 2) QUEST do Escudo de Madeira. Requisitos: Lvl 30 + 40 tocos de madeira. Prêmio: 1 Escudo de Madeira + 5000 EXP


008.gat,38,69,0	script	Jack	141, {

	if (Baselevel < 30) goto _geral;
	if (QUEST_arcoFloresta > 1 || QUEST_arcoFloresta_toco == 2) goto _checagem;
	if (QUEST_arcoFloresta == 1 && QUEST_arcoFloresta_toco == 1) goto _voltafloresta;
	if (QUEST_arcoFloresta == 1) goto _introfloresta;


_checagem:
	if (QUEST_ESCUDO_MADEIRA == 1) goto _escudo2;
	if (QUEST_ESCUDO_MADEIRA < 1) goto _escudo0;
	if (QUEST_ESCUDO_MADEIRA > 1) goto _geral;

_geral:
	mes "O lenhador Jack está descansando. Pela quantidade de suor em seu rosto dá para perceber que ele deve ter trabalhado muito... Talvez seja melhor deixar ele descansar em paz.";
	close;

_introfloresta:
	mes "Jack está descansando, aproveita, tira um lenço do bolso e limpa o suor do rosto";
	next;
	mes "Quando guarda o lenço, jack percebe a sua presença";
	next;
	mes "[Jack]";
	mes "\"Olá, o que posso fazer por você?\"";
	next;
	menu
		"Me disseram que você conhece bem os tipos de madeira destas florestas.",-;
	next;
	mes "[Jack]";
	mes "\"Ah! Se há alguma coisa nesta vida que eu sei é trabalhar com a madeira. Mas me diga, o que exatamente você procura?\"";
	next;
	menu
		"Eu preciso de um pedaço de madeira bastante resistente.",-;
	next;
	mes "Jack coça a cabeça tentando se lembrar de algo";
	next;
	mes "[Jack]";
	mes "\"Resistente...resistente... Ah! Tenho exatamente o que você precisa! Porém...\"";
	next;
	menu
		"Porém...?",-;
	next;
	mes "[Jack]";
	mes "\"Porém estou cansado. Faz horas que estou cortando lenha. Se você quiser o pedaço de madeira resistente, eu posso trocá-lo por 30 tocos de madeira, que você pode encontrar facilmente nos troncos vivos próximos daqui.\"";
	next;
	menu
		"Fazer o que né? Vamos lá.",-;
	next;
	mes "[Jack]";
	mes "\"Ótimo! Estarei aqui descansando um pouco enquanto você vai caçar. Boa sorte amigo!\"";
	set QUEST_arcoFloresta_toco, 1;
	close;

_voltafloresta:
	mes "[Jack]";
	mes "\"Conseguiu os 30 tocos de madeira que te pedi?\"";
	next;
	menu
		"Sim, aqui estão eles.",_checagemfloresta,
		"Ainda falta pegar.",-;
	mes "[Jack]";
	mes "\"Pois quando conseguir tudo, pode voltar aqui, que eu trocarei os seus tocos pelo pedaço de madeira que você deseja.\"";
	close;

_checagemfloresta:
	if (countitem(569) < 30) goto _naotemtocos;
	goto _temtocos;
	close;

_naotemtocos:
	mes "[Jack]";
	mes "\"Parece que você não tem todos os tocos que lhe pedi. Volte quando estiver com os 30 tocos de madeira, ok?\"";
	close;

_temtocos:
	mes "[Jack]";
	mes "\"Hum, parece que estão todos aqui.\"";
	next;
	mes "Neste momento Jack tira um bloco de madeira debaixo de um pano grosso que cobre uma pilha de vários tipos de toras e aproveita a ocasião para guardar os tocos que você pegou para ele";
	next;
	mes "[Jack]";
	mes "\"Bem, como promessa é dívida, aqui está o seu pedaço de madeira. Faça bom proveito.\"";
	delitem 569, 30;
	getitem 3214, 1;
	set QUEST_arcoFloresta_toco, 2;
	close;

_escudo0:
	mes "[Jack]";
	mes "\"Ora, ora... Vejo que você parece ter muita força! Se você quisesse poderia se dar bem no meu ramo... Para fazer o que eu faço, força é essencial...\"";
	next;
	mes "\"Você me faz lembrar de minha juventude, de como eu passava horas sem parar coletando madeira, lutando contra aqueles troncos vivos!\"";
	next;
	menu
		"Obrigado pelo elogio, mas essa não é bem minha área",-;
	next;
	mes "[Jack]";
	mes "\"É, eu sei... Já percebi que o que te atrai são as batalhas...\"";
	next;
	mes "\"Hmmm...\"";
	next;
	mes "\"Bem... Já que o nobre ofício dos lenhadores não te atrai, você por acaso gostaria de um resistente escudo de madeira?\"";
	next;
	menu
		"Claro! Porque não?",_escudo1,
		"Não, obrigado",-;
	mes "[Jack]";
	mes "\"Que pena, um escudo seria muito útil para você...\"";
	close;

_escudo1:
	mes "[Jack]";
	mes "\"Ótimo! Eu posso fazer um excelente escudo com apenas 40 tocos de madeira e 5.000 GP para cobrir os gastos... O que me diz?\"";
	menu
		"Parece justo. Vou pegar os materiais para você!",_escudo1a,
		"Isso é trabalho demais para um simples escudo...",-;
	mes "[Jack]";
	mes "\"Se você visse a qualidade do produto não falaria isso... Se você mudar de idéia pode vir falar comigo.\"";
	close;

_escudo1a:
	mes "[Jack]";
	mes "\"Muito bem... Estarei esperando!\"";
	set QUEST_ESCUDO_MADEIRA, 1;
	close;


_escudo2:
	mes "[Jack]";
	mes "\"Trouxe os materiais para fazer o escudo?\"";
	next;
	menu
		"Sim, está tudo aqui.",_checagemescudo,
		"Ainda não...",-;
	next;
	mes "[Jack]";
	mes "\"Tudo bem... Coletar madeira é um trabalho que exige paciência.\"";
	close;

_checagemescudo:
	if (countitem(569) < 40) goto _escudo3;
	goto _escudo4;

_escudo3:
	mes "[Jack]";
	mes "\"Você não tem tudo o que te pedi.\"";
	close;

_escudo4:
	mes "[Jack]";
	mes "\"Excelente! Sente-se por favor.\"";
	next;
	mes "Jack serra os tocos em pedaços e os lixa até ficarem macios ao toque.";
	mes "Aplicando um líquido de forte cheiro, ele os deixa com padrões mais escuros.";
	next;
	mes "Ele pega um pedaço e o molda em um formato arredondado, então repete com uma segunda peça que lhe parece ser a empunhadura do escudo.";
	next;
	mes "Enquanto isso o sol secou as outras peças. Jack as coloca juntas, adiciona camadas e prega tudo.";
	mes "O resultado lhe parece um escudo usável, porém Jack adiciona mais um líquido e o deixa secando.";
	next;
	mes "[Jack]";
	mes "\"Finalmente está pronto! Aproveite seu escudo!\"";
	delitem 740, 10;
	getitem 602, 1;
	set QUEST_ESCUDO_MADEIRA, 2;
	set BaseExp, BaseExp+5000;
	message strcharinfo(0), "Você ganhou 5000 pontos de experiência.";
	close;

}
