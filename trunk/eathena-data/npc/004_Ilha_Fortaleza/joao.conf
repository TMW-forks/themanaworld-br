///////////////////////////////////////////////////////////////////
//  IDE: TMW-Maker v0.2
//  MODIFICADO: 01/09/2010 7:54 PM
///////////////////////////////////////////////////////////////////

004.gat,101,25,0	script	João	160,{
///////////////////////////////////////////////////////////////////
//  PROGRAMADOR: twisterbk
//  ACRIAÇÃO: 01/09/2010 7:39 PM
//  UTILIDADE DO SCRIPT:
//    * Requisitos: 10 SmallMushrooms dropados por cogumelos
//    * Premio: Espada Curta e um Chapeu de cogumelo
///////////////////////////////////////////////////////////////////
	set @falaCumpade$, "";

	if (getequipid(equip_head) == 751 && esteChapeu == 0) goto _hasteRosa;
	if (getequipid(equip_head) == 751 && esteChapeu == 1 && QUEST_foice == 2) goto _hasteTrofeu;
	if (QUEST_foice == 0) goto _inicio;
	if (QUEST_foice == 1) goto _retornoFoice;
	if (QUEST_foice == 2) goto _obrigadoFoice;

_hasteRosa:
	mes "O homem te cutuca com o dedo.";
	next;
	heal -50, 0;
	next;
	mes "\"Malditos Cogumelos, nao deixam a Ilha Fortaleza em paz!\"";
	next;
	if (QUEST_trasgoRoxo==1) set @falaCumpade$, "Tudo bem estranho?";
	menu
		"Ja estou de Saida.", -,
		"Opa, o que você anda fazendo?", _hastePorque,
		@falaCumpade$, _cumpadeChico;
	close;

_hastePorque:
	set esteChapeu, 1;
	mes "[Joao]";
	mes "\"Desculpa, é que minha filha esta com medo daqueles cogumelos e nao consegue ir á escola, e eles sao perigosos para todos da Ilha Fortaleza.\"";
	next;
	if (QUEST_foice == 0) goto _ajuda;
	close;

_hasteTrofeu:
	mes "[Joao]";
	mes "\"Esta faca de pedra é muito antiga, mas aumenta +300 em danos.\"";
	next;
	if (QUEST_trasgoRoxo==1) set @falaCumpade$, "Precisamos conversar meu caro Amigo!";
	menu
		"Claro que é.", -,
		"Isso é para que voce possa se divertir no Mercado", _hasteFim,
		@falaCumpade$, _cumpadeChico;
	mes "[Joao]";
	mes "\"Muito obrigado pela sua ajuda meu Caro estranho.\"";
	close;

_hasteFim:
	if (Sex == 0) set $@mardita$, "Adorador";
	if (sex == 1) set $@mardita$, "Adoradora";
	mes "[Joao]";
	mes "\"" + $@mardita$ + " de cogumelos ja que nao vai ajudar suma daqui!\"";
	mes "Joao lhe da um soco bem dado. que voce apenas consegue ver Passarinhos em volta de ti";
	heal -250, 0;
	close;

_inicio:
	mes "[Joao]";
	mes "\"Malditos Cogumelos... minha filha nao consegue mais ir á escola!";
	mes "O duro é que eu nao posso fazer nada, eles são perigosos de mais!\"";
	next;
	if (QUEST_trasgoRoxo==1) set @falaCumpade$, "Cumpade... os Roxos também são um problema!";
	menu
		"Eles me parecem bobos de mais, o senhor esta com medo daquilo?", _razao,
		"Nao tenho tempo para estas coisas!.", -,
		@falaCumpade$, _cumpadeChico;
	close;

_razao:
	mes "[Joao]";
	mes "\"Bobos de mais? bobos por que voce nao passou perto deles ainda!";
	mes "quase fui mordido por um daqueles cogumelos do mal.\"";
	next;
	menu
		"Voce quer que eu te ajude com eles?", _ajuda,
		"É meu senhor, não posso te ajudar.", -;
	close;

_ajuda:
	mes "[Joao]";
	mes "\"Entao me ajude, pois eu quero voltar minha vida como era.";
	mes "Se voce conseguir 10 Small Mushrooms eu confiarei em voce\"";
	set QUEST_foice, 1;
	next;
	menu
		"Claro, ja estou indo", -,
		"Para que o senhor quer que eu faça isso?", _recompensa;
	close;

_recompensa:
	mes "[Joao]";
	mes "\"Ah, como eu trabalhei demais por um tempo, tenho um pouco de dinheiro, eu poderei te dar 50K se voce me ajudar.\"";
	close;

_retornoFoice:
	mes "[Joao]";
	mes "\"Voce pegou os Small Mushrooms?\"";
	next;
	if (QUEST_trasgoRoxo==1) set @falaCumpade$, "O que voce me diz?";
	menu
		"Ainda não, mas não se preocupe eu vou traze-los para voce.", -,
		"Claro, aqui estão!", _trocaFoice,
		@falaCumpade$, _cumpadeChico;
	close;

_trocaFoice:
	if (countitem("smallMushroom") < 10) goto _oceMingano;
	getinventorylist;
	delitem 566, 10;
	getitem 536, 1;
        getitem 630, 1;
	set QUEST_foice, 2;
	mes "[Joao]";
	mes "\"Que bom que voce me trouxe os SmallMushrooms, agora eu posso te dar a recompensa,aceite esta faca que ganhei de meu pai quando tinha 11 anos, e este chapeu fantasia de Cogumelo, para voce lembrar que foi corajoso o suficiente para derrotar aqueles cogumelos.\""; 
	close;

_oceMingano:
	mes "[Joao]";
	mes "\"Voce mentiu, me traga os Small Mushrooms e da logo uma licao naqueles cogumelos.\"";
	close;

_obrigadoFoice:
	if (getequipid(equip_head) == 751) goto _hasteTrofeu;
	mes "[Joao]";
	mes "\"Como é bom ver voce denovo, minha vide voltou a ser como antes!\"";
	if (QUEST_trasgoRoxo==1) menu
		"Nao precisava agradecer Amigao!", _cumpadeChico;
	close;

//-- QUEST_trasgoRoxo == 1 --------------------------------------------
}
