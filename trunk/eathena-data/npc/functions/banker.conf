function	script	Banker	{

	if (conta > 0) callsub S_contaconjunta;
	if(@npcName$=="") set @npcName$, "Banqueiro";
	set @tmp, rand(3);
	if(@tmp==0) mes "Olá! Bom Dia!";
	if(@tmp==1 && Sex==1) mes "Seja Bem Vindo!";
	if(@tmp==1 && Sex==0) mes "Seja Bem Vinda!";
	if(@tmp==2) mes "Em que posso ajudar?";
	next;
	if(#registrado==1) goto L_inicio;	
	menu	"Olá. Gostaria de abrir uma conta!", L_abre,
		"Não tenho interesse em seus serviços.", L_tchau;

L_abre:
	set #conta, 0;
	set #registrado, 1;
	mes "[" + @npcName$ + "]";
	mes "\"Excelente! Você é o mais novo cliente do meu banco. A partir de agora você pode realizar todo tipo de operação financeira sem cobrança de tarifas!\"";
	next;
	goto L_inicio;

L_inicio:
	menu	"Depositar", L_dep,
		"Sacar", L_ret,
		"Checar saldo", L_saldo,
		"Nada, até mais!", L_tchau;
	
L_dep:
	mes "[" + @npcName$ + "]";
	mes "\"Quanto gostaria de depositar?\"";
	next;
        menu
		"Outra quantia", L_dep_Input,
		"5,000 GP", L_dep_5k,
		"10,000 GP", L_dep_10k,
		"25,000 GP", L_dep_25k,
		"50,000 GP", L_dep_50k,
		"100,000 GP", L_dep_100k,
		"250,000 GP", L_dep_250k,
		"500,000 GP", L_dep_500k,
		"1,000,000 GP", L_dep_1kk,
		"Todo o meu dinheiro", L_dep_tudo,
		"Gostaria de fazer outra coisa", L_inicio,
		"Sair", -;
	
L_dep_Input:
	input @Amount;
	if (@Amount >= 0) goto L_dep_Continue;
	mes "[" + @npcName$ + "]";
	mes "\"Eu preciso de um número positivo. O que gostaria de fazer?\"";
	menu	"Na verdade, queria fazer outra coisa.", L_inicio,
		"Tentar novamente.", L_dep_Input,
		"Depositar todo o meu dinheiro.", L_dep_tudo,
		"Sair", -;
	goto L_tchau;

L_dep_5k:
	if (zeny<5000) goto L_pobre;
	set @Amount, 5000;
	goto L_dep_Continue;

L_dep_10k:
	if (zeny<10000) goto L_pobre;
	set @Amount, 10000;
	goto L_dep_Continue;

L_dep_25k:
	if (zeny<25000) goto L_pobre;
	set @Amount, 25000;
	goto L_dep_Continue;

L_dep_50k:
	if (zeny<50000) goto L_pobre;
	set @Amount, 50000;
	goto L_dep_Continue;

L_dep_100k:
	if (zeny<100000) goto L_pobre;
	set @Amount, 100000;
	goto L_dep_Continue;

L_dep_250k:
	if (zeny<250000) goto L_pobre;
	set @Amount, 250000;
	goto L_dep_Continue;

L_dep_500k:
	if (zeny<500000) goto L_pobre;
	set @Amount, 500000;
	goto L_dep_Continue;

L_dep_1kk:
	if (zeny<1000000) goto L_pobre;
	set @Amount, 1000000;
	goto L_dep_Continue;

L_dep_tudo:
	if (zeny<1) goto L_pobre;
	set @Amount, zeny;
	
L_dep_Continue:
	if (zeny < @Amount) goto L_pobre;
	set zeny, zeny - @Amount;
	set #conta, #conta + @Amount;
	goto L_saldo;
	
L_ret:
	mes "[" + @npcName$ + "]";
	mes "\"Quanto gostaria de retirar de sua conta?\"";
	menu
		"Outra quantia.", L_ret_Input,
		"5,000 GP", L_ret_5k,
		"10,000 GP", L_ret_10k,
		"25,000 GP", L_ret_25k,
		"50,000 GP", L_ret_50k,
		"100,000 GP", L_ret_100k,
		"250,000 GP", L_ret_250k,
		"500,000 GP", L_ret_500k,
		"1,000,000 GP", L_ret_1kk,
		"Todo o meu dinheiro!", L_ret_tudo,
		"Gostaria de fazer outra coisa.", L_inicio,
		"Quit", -;
	next;

L_ret_Input:
	input @Amount;
	if (@Amount >= 0) goto L_ret_Continue;
	mes "[" + @npcName$ + "]";
	mes "\"Eu preciso de um número positivo. O que gostaria de fazer?\"";
	menu	"Na verdade, queria fazer outra coisa", L_inicio,
		"Tentar novamente.", L_ret_Input,
		"Retirar todo o meu dinheiro", L_ret_tudo,
		"Quit", -;
	goto L_tchau;

L_ret_5k:
	if (#conta < 5000) goto L_pobre;
	set @Amount, 5000;
	goto L_ret_Continue;

L_ret_10k:
	if (#conta < 10000) goto L_pobre;
	set @Amount, 10000;
	goto L_ret_Continue;

L_ret_25k:
	if (#conta < 25000) goto L_pobre;
	set @Amount, 25000;
	goto L_ret_Continue;

L_ret_50k:
	if (#conta < 50000) goto L_pobre;
	set @Amount, 50000;
	goto L_ret_Continue;

L_ret_100k:
	if (#conta < 100000) goto L_pobre;
	set @Amount, 100000;
	goto L_ret_Continue;

L_ret_250k:
	if (#conta < 250000) goto L_pobre;
	set @Amount, 250000;
	goto L_ret_Continue;

L_ret_500k:
	if (#conta < 500000) goto L_pobre;
	set @Amount, 500000;
	goto L_ret_Continue;

L_ret_1kk:
	if (#conta < 1000000) goto L_pobre;
	set @Amount, 1000000;
	goto L_ret_Continue;

L_ret_tudo:
	if (#conta < 0) goto L_pobre;
	set @Amount, #conta;

L_ret_Continue:
	if (#conta < @Amount) goto L_pobre;
	set zeny, zeny + @Amount;
	set #conta, #conta - @Amount;
	goto L_saldo;
	
L_saldo:
	mes "[" + @npcName$ + "]";
	mes "\"Seu saldo atual é de:";
	mes #conta + " GP\"";
	goto L_inicio;
	
L_tchau:
	mes "[" + @npcName$ + "]";
	mes "\"Então até logo!.\"";
	return;
	
L_pobre:
	mes "[" + @npcName$ + "]";
	mes "\"Bem... Acho que temos um problema. Você não tem crédito suficiente para realizar esta operação.\"";
	goto L_inicio;
	
}
