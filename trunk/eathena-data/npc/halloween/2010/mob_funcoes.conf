/**
 * Concentração da maior parte dos scripts de Halloween para monstros.
 */

function	script	bonecaLimoGuloso	{
	if(HALLOWEEN2_nina!=1) return;

	getinventorylist;
	if( @inventorylist_count == 100 ) goto _cheio;

	getitem 3159, 1; //- Boneca de Pano
	set HALLOWEEN2_nina, 2;
	message strcharinfo(0), "Encontrei a boneca!";
	return;

_cheio:
	message strcharinfo(0), "Inventório cheio!";
	return;
}

function	script	dropHitodama2	{
	if(@evento==0) return;

	set @tmp, rand(1000);
	if(@mobID==1337 && @tmp>60) return;
	if(@mobID==1338 && @tmp>65) return;
	if(@mobID==1339 && @tmp>70) return;
	if(@mobID==1340 && @tmp>75) return;
	if(@mobID==1341 && @tmp>80) return;
	if(@mobID==1342 && @tmp>85) return;
	getitem 3157, 1;
	set HALLOWEEN2_item[@evento-1], HALLOWEEN2_item[@evento-1]+1;
	message strcharinfo(0), "Aeee!";

	// Aqui teremos uma função para calcular a soma dos 6 mais.
	set @somaItens, HALLOWEEN2_item[0] + HALLOWEEN2_item[1] + HALLOWEEN2_item[2] + HALLOWEEN2_item[3] + HALLOWEEN2_item[4] + HALLOWEEN2_item[5];

	/*
	 * Essa parte aqui eu vou ficar devendo por enquanto... preciso de tempo e paciência.
	 * Estará pronta em alguns dias... sem acarretar problemas. O evento segue normalmente.
	 *
	// Se puder entrar no final do placar || ser o primeiro a entrar na lista
	if ($NATAL_vetPlacar[$NATAL_numPlacar-1]<NATAL_evento-1 && $NATAL_numPlacar!=0) goto _pular1; //< Se não puder: _pula1
	//else
		set $NATAL_nomPlacar$[$NATAL_numPlacar], strcharinfo(0);
		set $NATAL_vetPlacar[$NATAL_numPlacar], NATAL_evento-1;
		set $NATAL_lvlPlacar[$NATAL_numPlacar], BaseLevel;
		if ($NATAL_numPlacar<15) set $NATAL_numPlacar, $NATAL_numPlacar+1;
		goto _return1;
	_pular1:

	// Buscar nome no placar
	set @tmp, $NATAL_numPlacar; //< O padão é o ultimo da placar
	set @i, -1;
	_loop1: set @i,@i+1; if(@i>=$NATAL_numPlacar) goto _fimLoop1;
		if ($NATAL_nomPlacar$[@i]!=strcharinfo(0)) goto _loop1;
		//else
			set $NATAL_vetPlacar[@i], NATAL_evento-1;
			set $NATAL_lvlPlacar[@i], BaseLevel;
			set @tmp, @i;
			goto _fimLoop1;
		//goto _loop1;
	_fimLoop1:

	// Subir no placar
	set @i, @tmp; //< Indice encontrado no loop1
	set @tmp, 0;
	_loop2: set @i,@i-1; if(@i<0) goto _fimLoop2;
		if ($NATAL_vetPlacar[@i]>=NATAL_evento-1) set @i, -1;
			if(@i<0) goto _fimLoop2;
		//else
			set @tmp, 1;
			set $NATAL_nomPlacar$[@i+1], $NATAL_nomPlacar$[@i];
			set $NATAL_vetPlacar[@i+1], $NATAL_vetPlacar[@i];
			set $NATAL_lvlPlacar[@i+1], $NATAL_lvlPlacar[@i];
			set $NATAL_nomPlacar$[@i], strcharinfo(0);
			set $NATAL_vetPlacar[@i], NATAL_evento-1;
			set $NATAL_lvlPlacar[@i], BaseLevel;
		goto _loop2;
	_fimLoop2:

	if (@tmp==1 && $NATAL_numPlacar<15) set $NATAL_numPlacar, $NATAL_numPlacar+1;
	*/
}

function	script	dropHitodama	{
	set @hitodama, getarg(0);

	if (@hitodama == 3151) goto _verde;
	if (@hitodama == 3152) goto _azul;
	if (@hitodama == 3153) goto _amarela;
	if (@hitodama == 3154) goto _vermelha;
	if (@hitodama == 3155) goto _violeta;
	if (@hitodama == 3156) goto _negra;
	return;

_verde:
	if (morteferias_contagem >= 200) return;
	getitem @hitodama, 1;
	set morteferias_contagem, morteferias_contagem + 1;
	return;

_azul:
	set @item, Rand(100);
	if (@item > 49) return;
	if (morteferias_contagem >= 100) return;
	getitem @hitodama, 1;
	set morteferias_contagem, morteferias_contagem + 1;
	return;

_amarela:
	set @item, Rand(100);
	if (@item > 24) return;
	if (morteferias_contagem >= 50) return;
	getitem @hitodama, 1;
	set morteferias_contagem, morteferias_contagem + 1;
	return;

_vermelha:
	set @item, Rand(100);
	if (@item > 11) return;
	if (morteferias_contagem >= 25) return;
	getitem @hitodama, 1;
	set morteferias_contagem, morteferias_contagem + 1;
	return;

_violeta:
	set @item, Rand(100);
	if (@item > 0) return;
	if (morteferias_contagem >= 15) return;
	getitem @hitodama, 1;
	set morteferias_contagem, morteferias_contagem + 1;
	return;

_negra:
	set @item, Rand(200);
	if (@item > 0) return;
	if (morteferias_contagem >= 5) return;
	getitem @hitodama, 1;
	set morteferias_contagem, morteferias_contagem + 1;
	return;

}
