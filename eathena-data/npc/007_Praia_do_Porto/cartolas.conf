//
// Ainda estou planejando este NPC.. ele irá ajudar em eventos de sorte.
// Autor: Diogo_RBG
//

function	script	cartolaPuft	{
	mes "[Mágico]";
	mes "\"Abra cadabra... sim salabim... coelho apareça apara mim!\"";
	disablenpc @npc$;
	enablenpc @npc$+"#puft";
	return;
}

007.gat,58,75,0	script	Mágico	323,{
	mes "[Mágico]";
	mes "\"Abra cadabra... sim salabim... coelho apareça apara mim!\"";
	mes "...";
	mes "O mágico bate na cartola.";
	mes "\"Vamos... saia daí!";
	mes "aff!\"";
	menu
		"1", _sortear,
		"2", _sortear,
		"3", _sortear,
		"4", _sortear,
		"5", _sortear,
		"6", _sortear,
		"7", _sortear;
	close;

_sortear:
	callsub _zerarTodos, @menu;
	close;

OnInit:
	callsub _zerarTodos, 7;
	end;

_zerarTodos:
	set $@CARTOLA, rand(getarg(0))+1;
	callsub _zeraCartola, 1, getarg(0);
	callsub _zeraCartola, 2, getarg(0);
	callsub _zeraCartola, 3, getarg(0);
	callsub _zeraCartola, 4, getarg(0);
	callsub _zeraCartola, 5, getarg(0);
	callsub _zeraCartola, 6, getarg(0);
	callsub _zeraCartola, 7, getarg(0);
	return;

_zeraCartola:
	disablenpc "Nº "+getarg(0)+"#puft";
	if(getarg(0)<=getarg(1)) enablenpc "Nº "+getarg(0);
	if(getarg(0)>getarg(1)) disablenpc "Nº "+getarg(0);
	return;
}

007.gat,52,78,0	script	Nº 1	333,{
	set @npc$, "Nº 1";
	callfunc "cartolaPuft";
	initnpctimer;
	close;
OnTimer3700:
	if($@CARTOLA==1) monster "007.gat", 52, 78, "", 1322, 1;
	if($@CARTOLA!=1) monster "007.gat", 52, 78, "", 1323, 1;
	end;
OnTimer4500:
	stopnpctimer;
	disablenpc "Nº 1#puft";
	end;
}

007.gat,52,78,0	script	Nº 1#puft	334,{
	mes "...";
	close;
}

007.gat,54,78,0	script	Nº 2	333,{
	set @npc$, "Nº 2";
	callfunc "cartolaPuft";
	initnpctimer;
	close;
OnTimer3700:
	if($@CARTOLA==2) monster "007.gat", 54, 78, "", 1322, 1;
	if($@CARTOLA!=2) monster "007.gat", 54, 78, "", 1323, 1;
	end;
OnTimer4500:
	stopnpctimer;
	disablenpc "Nº 2#puft";
	end;
}

007.gat,54,78,0	script	Nº 2#puft	334,{
	mes "...";
	close;
}

007.gat,56,78,0	script	Nº 3	333,{
	set @npc$, "Nº 3";
	callfunc "cartolaPuft";
	initnpctimer;
	close;
OnTimer3700:
	if($@CARTOLA==3) monster "007.gat", 56, 78, "", 1322, 1;
	if($@CARTOLA!=3) monster "007.gat", 56, 78, "", 1323, 1;
	end;
OnTimer4500:
	stopnpctimer;
	disablenpc "Nº 3#puft";
	end;
}

007.gat,56,78,0	script	Nº 3#puft	334,{
	mes "...";
	close;
}

007.gat,58,78,0	script	Nº 4	333,{
	set @npc$, "Nº 4";
	callfunc "cartolaPuft";
	initnpctimer;
	close;
OnTimer3700:
	if($@CARTOLA==4) monster "007.gat", 58, 78, "", 1322, 1;
	if($@CARTOLA!=4) monster "007.gat", 58, 78, "", 1323, 1;
	end;
OnTimer4500:
	stopnpctimer;
	disablenpc "Nº 4#puft";
	end;
}

007.gat,58,78,0	script	Nº 4#puft	334,{
	mes "...";
	close;
}

007.gat,60,78,0	script	Nº 5	333,{
	set @npc$, "Nº 5";
	callfunc "cartolaPuft";
	initnpctimer;
	close;
OnTimer3700:
	if($@CARTOLA==5) monster "007.gat", 60, 78, "", 1322, 1;
	if($@CARTOLA!=5) monster "007.gat", 60, 78, "", 1323, 1;
	end;
OnTimer4500:
	stopnpctimer;
	disablenpc "Nº 5#puft";
	end;
}

007.gat,60,78,0	script	Nº 5#puft	334,{
	mes "...";
	close;
}

007.gat,62,78,0	script	Nº 6	333,{
	set @npc$, "Nº 6";
	callfunc "cartolaPuft";
	initnpctimer;
	close;
OnTimer3700:
	if($@CARTOLA==6) monster "007.gat", 62, 78, "", 1322, 1;
	if($@CARTOLA!=6) monster "007.gat", 62, 78, "", 1323, 1;
	end;
OnTimer4500:
	stopnpctimer;
	disablenpc "Nº 6#puft";
	end;
}

007.gat,62,78,0	script	Nº 6#puft	334,{
	mes "...";
	close;
}

007.gat,64,78,0	script	Nº 7	333,{
	set @npc$, "Nº 7";
	callfunc "cartolaPuft";
	initnpctimer;
	close;
OnTimer3700:
	if($@CARTOLA==7) monster "007.gat", 64, 78, "", 1322, 1;
	if($@CARTOLA!=7) monster "007.gat", 64, 78, "", 1323, 1;
	end;
OnTimer4500:
	stopnpctimer;
	disablenpc "Nº 7#puft";
	end;
}

007.gat,64,78,0	script	Nº 7#puft	334,{
	mes "...";
	close;
}
