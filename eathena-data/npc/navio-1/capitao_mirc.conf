///////////////////////////////////////////////////////////////////
//  IDE: TMW-Maker v0.2
//  MODIFICADO: 21/10/2010 12:04 AM
///////////////////////////////////////////////////////////////////

navio.gat,24,23,0	script	Capitão Mirc	303,{
///////////////////////////////////////////////////////////////////
//  PROGRAMADOR: Lunovox
//  ACRIAÇÃO: 20/10/2010 10:32 PM
//  UTILIDADE DO SCRIPT:
//    * Capitão que controla a cidade de destino do navio.
///////////////////////////////////////////////////////////////////
_inicio:
     setarray Cidade$, 
       "Porto da Vila dos Pescadores",
       "Porto do Polo Norte",
       "Porto de Hades",
       "Porto de Halicarnaso em Manaland";

     mes "[Capitão Mirc]";
     if(Sex==1) mes "\"Olá meu jovem!\"";
     if(Sex==0) mes "\"Olá minha jovem!\"";
     next;
     if(SeTrabalhaNoNavio==1) goto _TrazCaldas;
_PerguntaBase:
     mes "[Capitão Mirc]";
     mes "\"Deseja viajar para alguma cidade?\"";
     next;
     mes "["+ strcharinfo(0) +"]";
     menu 
       "Sim!", _EscolherDestino,
       "Quanto Custa?", _Custo,
       "Não! Obrigado!", -;
_Desistencia:
     mes "[Capitão Mirc]";
     mes "\"Ok! Fique a vontade para voltar quando desejar\"";
close; 

_Custo:
     mes "[Capitão Mirc]";
     mes "\"O custo das passagens são\:";
     mes " * "+Cidade$[1]+"\: 1.000 GP";
     mes " * "+Cidade$[2]+"\: 3.000 GP";
     mes " * "+Cidade$[3]+"\: (impedido)\"";
     mes " * "+Cidade$[4]+"\: (impedido)\"";
     next;
goto _PerguntaBase;

_EscolherDestino:
     mes "["+ strcharinfo(0) +"]";
     mes "\"Meu destino será:\"";
     menu 
       " * "+Cidade$[1], _PortoVilaPescadores,
       " * "+Cidade$[2], _PortoPoloNorte,
       " * "+Cidade$[3], _PortoImpedido,
       " * "+Cidade$[4], _PortoImpedido;
       "Nenhum! Eu ficarei aqui mesmo!", -;
goto _Desistencia;

_SemGrana:
     mes "[Capitão Mirc]";
     mes "\"Você não tem dinheiro suficiente! Mas se você aceitar pode viajar comigo se aceitar trabalhar para mim como ajudante.\"";
     next;
     mes "["+ strcharinfo(0) +"]";
     menu 
       "O que eu preciso fazer?", -,
       "Não quero obrigado!", _Desistencia;
goto _InteressePeloTrabalho;

_SemCaldas:
     mes "[Capitão Mirc]";
     mes "\"Você ainda não matou todos os ratos que eu mandei? Vá logo!";
     mes "E só volte quando tiver as 30 caldas de ratos como prova!\"";
close;

_InteressePeloTrabalho:
     mes "[Capitão Mirc]";
     mes "\"Só precisa que fique matando os ratos que ficam comendo toda a comida do conveś.\"";
     next;
     mes "["+ strcharinfo(0) +"]";
     mes "\"Parece interessante!\"";
     next;
     mes "[Capitão Mirc]";
     mes "\"Sim! Para provar que vc está trabalhando direitinho eu quero que vc consiga pelo menos caldas destes de ratos para mim.\"";
     next;
     mes "["+ strcharinfo(0) +"]";
     menu 
       "Ok! Eu aceito!", _AceitaTrabalho,
       "Não! Obrigado!", _Desistencia;
_Desistencia;

_AceitaTrabalho:
     set SeTrabalhaNoNavio,1;
     mes "[Capitão Mirc]";
     mes "\"Ok Marujo! Mão\"";
     mes "Mãos a obra! Não quero ver sua cara enquanto não conseguir \"";
close;

_TrazCaldas:
     mes "[Capitão Mirc]";
     mes "\"Trouxe as 30 caldas de rato que eu mandei?\"";
     next;
     mes "["+ strcharinfo(0) +"]";
     menu
       "Sim! Estão aqui!",-,
       "Não! Falta pouco!",_SemCaldas;
      if(PortoDesejado$==Cidade$[1]) goto _PortoVilaPescadores;
      if(PortoDesejado$==Cidade$[2]) goto _PortoPoloNorte;
goto _SemCaldas;

_PortoImpedido:
     mes "[Capitão Mirc]";
     mes "\"Esse porto foi trancado e está impedido a entrada de navio. Desculpe!\"";
     next;
goto _EscolherDestino;

_PortoAtracado:
     mes "[Capitão Mirc]";
     mes "\"Ja estamos atracados em "+ PortoAtracado$ +".\"";
goto _EscolherDestino;

_PortoVilaPescadores:
     set PortoDesejado$,Cidade$[1];
     if(PortoDesejado$=="!!ERROR!!" || PortoDesejado$==PortoAtracado$) goto _PortoAtracado;
     if(SeTrabalhaNoNavio!=1 && Zeny<1000) goto _SemGrana;
     if(SeTrabalhaNoNavio==1 && countitem(3169)<30) goto _SemCaldas;
     if(SeTrabalhaNoNavio!=1) set Zeny, Zeny-1000;
     if(SeTrabalhaNoNavio==1) delitem 3169,30;
     set PortoAtracado$,"Vila Pescadores";
     set SeTrabalhaNoNavio,0;
     if(SeTrabalhaNoNavio==1) mes "[Capitão Mirc]";
     if(SeTrabalhaNoNavio==1) mes "\"Bom tabalho!!!\"";
     if(SeTrabalhaNoNavio==1) next;
     //callfunc "getTime";
     //set EsperaAoPorto, @time + (3*60);
     mes "[Capitão Mirc]";
     mes "\"Acabamos de atracar na Vila dos pescadores.\"";
close;  

_PortoPoloNorte:
     set PortoDesejado$,Cidade$[2];
     if(PortoDesejado$=="!!ERROR!!" || PortoDesejado$==PortoAtracado$) goto _PortoAtracado;
     if(SeTrabalhaNoNavio!=1 && Zeny<3000) goto _SemGrana;
     if(SeTrabalhaNoNavio==1 && countitem(3169)<30) goto _SemCaldas;
     if(SeTrabalhaNoNavio!=1) set Zeny, Zeny-1000;
     if(SeTrabalhaNoNavio==1) delitem 3169,30;
     set PortoAtracado$,PortoDesejado$;
     set SeTrabalhaNoNavio,0;
     if(SeTrabalhaNoNavio==1) mes "[Capitão Mirc]";
     if(SeTrabalhaNoNavio==1) mes "\"Bom tabalho!!!\"";
     if(SeTrabalhaNoNavio==1) next;
     //callfunc "getTime";
     //set EsperaAoPorto, @time + (3*60);
     mes "[Capitão Mirc]";
     mes "\"Acabamos de atracar na Vila dos pescadores.\"";
close;  


}
