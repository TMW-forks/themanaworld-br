// Normalmente eu só mando o script pro repositório quando está tudo pronto, mas estou sem tempo e achei melhor ir mandando aos poucos. Acho que fica melhor para vocês revisarem os erros ou acrescentar suas ideias.

012.gat,155,153,0	script	debug	173,{
	callfunc "debug"; //< Só habilitado para GMs
	menu
		"resetar variáveis", -,
		"Achar ovos", -,
		"Sair", -;
	if (@menu == 1) set PASCOA2, 0;
	if (@menu == 1) set PASCOA2_escondeCont, 0;
	if (@menu == 2) set PASCOA2_escondeCont, 10;
	close;
}

012.gat,157,153,0	script	Coelho	173,{

	if (PASCOA2 == 1) goto _voltou;
	if (PASCOA2 == 2) goto _retorno1;
	if (PASCOA2 == 3) goto _menuesconder;

	mes "[Coelho]";
	mes "\"Olá! Posso te ajudar?\"";
	menu
		"Estou entediado... Existe algo de interessante por aqui?", -;
	mes "[Coelho]";
	mes "\"Bem... Um monte de coelhos e lebres! Quer coisa mais interessante do que isso? ;)\"";
	next;
	mes "[Coelho]";
	mes "\"Brincadeira... Eu entendi o que você quis dizer... Você parece ser uma pessoa que gosta de desafios. Acho que tenho a proposta ideal para você!\"";
	next;
	menu
		"É disso que eu gosto! Qual seria a proposta?", -;
	mes "[Coelho]";
	mes "\"É bem simples! Eu escondi vários ovos de chocolate por todo esse lugar. Mas como eu escondi muito bem, acho bem difícil alguém encontrá-los. Por isso resolvi te dar essa chance de mostrar sua sagacidade. Encontre 10 ovos de chocolate e fale comigo.\"";
	next;
	mes "[Coelho]";
	mes "\"Isso pode ser difícil, mas é apenas para começar o desafio... Mas não se preocupe, se você for bem eu vou te recompensar muito bem!\"";
	next;
	menu
		"Ótimo! Mas por onde eu começo a procurar?",-,
		"Ahh, estou sem paciência agora. Talvez depois eu volte.", _sair1;
_aceitou:
	set PASCOA2, 2;
	mes "[Coelho]";
	mes "\"Use a sua imaginação! Pode ser em QUALQUER lugar. Dentro de um lago, atrás de uma árvore, no meio de arbustos... qualquer lugar!\"";
	close;

_voltou:
	mes "[Coelho]";
	mes "\"Olá! Decidiu voltar para aceitar meu desafio?\"";
	menu
		"Sim! Agora estou pronto. Mas por onde devo começar?", _aceitou,
		"Não, ainda estou sem paciência para esconde-esconde...", _sair1;
	close;

_retorno1:
// substituir "X" pela variável de contagem de ovos encontrados.

	if (PASCOA2_escondeCont == 0) goto _sair2;
	if (PASCOA2_escondeCont >= 10) goto _encontrouovos;

	mes "[Coelho]";
	mes "\"Olá! Como vai a procura? Encontrou alguma coisa?\"";

	if (PASCOA2_escondeCont > 1 && PASCOA2_escondeCont < 4)
	menu
		"Está muito difícil! Só achei um ate agora!", _retorno1a;

	if (PASCOA2_escondeCont > 1 && PASCOA2_escondeCont < 4)
	menu
		"Está difícil, mas já achei alguns ovos!", _retorno1a;
	if (PASCOA2_escondeCont > 3 && PASCOA2_escondeCont < 7)
	menu
		"Nossa, você escondeu muito bem! Mas não vou desistir!", _retorno1a;
	if (PASCOA2_escondeCont > 6 && PASCOA2_escondeCont < 10)
	menu
		"Hah! Já achei um monte! Estou quase lá!", _retorno1a;

_encontrouovos:
	mes "[Coelho]";
	mes "\"UAU!!! Você encontrou mesmo todos os ovos! Estou impressionado...\"";
	menu
		"Foi fácil! Você achou mesmo que eu não encontraria os ovos?", -;
	mes "[Coelho]";
	mes "\"Sim... Mas não tão rápido. Mas já que você foi tão bem neste desafio, o que acha de uma nova tarefa, mas desta vez muito mais difícil?\"";
	next;
	menu
		"Claro. Mas você não está esquecendo de uma coisa coelhinho? $D ", -;
	mes "[Coelho]";
	mes "\"Hahaha, eu sabia que você ia chegar neste assunto. Você merece uma boa recompensa... Deixe-me pensar...\"";
	next;
// Checar se Inventário está cheio e dar a recompença
	mes "[Coelho]";
	mes "\"Muito bem! Agora vamos ao novo desafio! Esse é bem mais difícil, pois você vai ter que vencer a MINHA astúcia!\"";
	next;
	mes "[Coelho]";
	mes "\"A ideia é a mesma do desafio anterior. Só que quem vai esconder os ovos é você, e eu vou ter que encontrá-los!\"";
	next;
	menu
		"OK. Mas eu não queria gastar ovos de chocolate assim! Pode ser umas bolotas?", -;
	mes "[Coelho]";
	mes "\"Bolotas? Nem pensar! Tem que ser ovos de chocolate. Mas não se preocupe, se seus ovos de chocolate acabarem eu posso fazer alguns para você.\"";
	next;
	mes "\"Só vou precisar de alguns ingredientes e de tinta guache para enfeitar.\"";
	next;

_menulista:
	menu
		"Você tem uma lista com os ingredientes?", _ingredientes,
		"Onde consigo os ingredientes e a tinta?", -;
	mes "[Coelho]";
	mes "\"Coelhos adoram chocolate e castanhas... aposto que você vai conseguir todos os ingredientes com eles. Mas tenha cuidado para não machucá-los. Já a tinta guache você deve encontrar fácil com algum vendedor por aí...\"";
	set PASCOA2, 3;
	close;

_ingredientes:
	mes "[Coelho]";
	mes "\"Para fazer um delicioso ovo de páscoa de 500g precisaremos de 400g de chocolate especial e 100g de castanhas.";
	mes "Mas não pode ser qualquer tipo de chocolate especial e nem qualquer tipo de castanha. Para cada sabor de chocolate especial temos que utilizar um tipo diferente de castanha.\"";
	mes "";
	mes "\"Veja a lista.\"";
	next;
	mes "[Lista de Ingredientes]";
	mes "Ovo de páscoa sabor Cuputale Especial:";
	mes "- 10 [Barra de Cupulate Especial]";
	mes "- 5 [Castanha do Pará]";
	mes "Ovo de páscoa sabor Chocolate Especial:";
	mes "- 10 [Barra de Chocolate Especial]";
	mes "- 5 [Amendoim]";
	mes "Ovo de páscoa sabor Chocolate Amargo Especial:";
	mes "- 10 [Barra de Chocolate Amargo Especial]";
	mes "- 5 [Castanha de Caju]";
	mes "Ovo de páscoa sabor Chocolate Branco Especial:";
	mes "- 10 [Barra de Chocolate Branco Especial]";
	mes "- 5 [Coco]";
	if (PASCOA2 == 2) goto _menulista;
	if (PASCOA2 == 3) goto _menuovo;
	close;

_menuesconder:
// x = trocar pela variável usada para saber se o jogador escondeu os ovos
	if (x>=20)
	menu
		"Tudo certo! Escondi todos os ovos.", -;
	if (x<20) goto _fazerovo;
	mes "[Coelho]";
	mes "\"Muito bem, você fez um ótimo trabalho!\"";
	close;

_retorno1a:
	mes "[Coelho]";
	mes "\"Esse é o espírito! Continue procurando...\"";
	close;

_sair1:
	set PASCOA2, 1;
	mes "[Coelho]";
	mes "\"Tudo bem! Sinta-se à vontade para voltar quando quiser.\"";
	close;
_sair2:
	mes "[Coelho]";
	mes "\"Estou vendo que você não encontrou nenhum ovo... Talvez eu tenha superestimado suas habilidades intelectuais... hahaha\"";
	close;

_fazerovo:
	mes "[Coelho]";
	mes "\"Olá novamente! Conseguiu muitos ingredientes?\"";
	menu
		"Sim. Estou pronto para testar suas receitas.", _menuovo,
		"Ainda não. Preciso trabalhar um pouco mais nisso.", -;
	close;

_menuovo:
	set @idOvoPascoa,   1208;
	set @idChocolate,   3071;
	set @idCastanha,    3075;
	set @idTintaGuache, 3080;

	if (countitem("cupulateEsp")>=10 && countitem("castanhaPara")>=5) set @cupulate, 1;
	if (countitem("chocolateEsp")>=10 && countitem("amendoim")>=5) set @chocoesp, 1;
	if (countitem("chocolateAmargoEsp")>=10 && countitem("castanhaCaju")>=5) set @amargo, 1;
	if (countitem("chocolateBrancoEsp")>=10 && countitem("coco")>=5)  set @branco, 1;

	mes "[Coelho]";
	mes "\"Qual tipo de ovo de páscoa você quer fazer.";
	menu
		"Sabor Cuputale Especial.", _fazerovos,
		"Sabor Chocolate Especial.", _fazerovos,
		"Sabor Chocolate Amargo Especial.", _fazerovos,
		"Sabor Chocolate Branco Especial.", _fazerovos,
		"Quero rever os ingredientes.", _ingredientes,
		"Desistir.", -;



_semingredientes:
	mes "[Guia de Páscoa]";
	mes "\"Você não tem ingredientes suficiente para fazer o ovo de páscoa que escolheu.";
	goto _menuovo;

_semtinta:
	mes "[Guia de Páscoa]";
	mes "\"Eu acho que você não tem essa cor de tinta.\"";
	next;
	goto _menucor;

_fazerovos:
	if (@menu<=0 || @menu>4) close;
	set @ovotipo, @menu-1;
	mes "[Guia de Páscoa]";
	mes "\"Me dê seus ingredientes.\"";
	next;
	menu
		"Aqui estão.", -,
		"Ops... Acabaram meus ingredientes.", -;
	if (@menu!=1) close;
	if (countitem(@idChocolate+@ovotipo)<10 || countitem(@idCastanha+@ovotipo)<5) goto _semingredientes;
	goto _misturando;

_misturando:
	mes "[Guia de Páscoa]";
	mes "\"Ótimo, vamos começar a trabalhar...\"";
	mes "";
	mes "O coelho pega os ingredientes e mistura tudo com um pouco de leite em uma vasilha ao fogo. Espera um pouco até que o chocolate derreta e então o coloca em duas fôrmas ovais.";
	next;
	goto _fazerovo3;

_fazerovo3:
	mes "[Guia de Páscoa]";
	mes "\"Enquanto o chocolate endurece...";
	mes "Que cor gostaria de pintar seu ovo de páscoa? Que cor de [Tinta Guache] você tem ai?!\"";
	next;
	goto _menuCor;

_menucor:
	menu
		"Vermelho", -,
		"Verde", -,
		"Azul Escuro", -,
		"Amarelo", -,
		"Azul Claro", -,
		"Rosa", -,
		"Não tenho nenhuma Tinta Guache.", -;
	if (@menu<=0 || @menu>6) close;

	set @ovocor, @menu-1;
	if (countitem(@idTintaGuache+@ovocor)<1) goto _semtinta;
	goto _fazerovo4;

_fazerovo4:
	mes "[Guia de Páscoa]";
	mes "\"Já temos o chocolate, a tinta... deixe-me ver o que mais está faltando...\"";
	next;
	mes "";
	mes "\"Acho que temos tudo...\"";
	next;
	mes "[Guia de Páscoa]";
	mes "\"Vamos decorar o ovo de páscoa.\"";
	mes "";
	mes "O coelho encaixa os dois lados do ovo e o enrola em uma folha de alumínio. Recorta algumas tiras de papel e também as enrola em volta do ovo passando um pouco de cola nas pontas. Em seguida molha a ponta do pincel com tinta e começa a pintar o ovo.";
	next;
	mes "[Guia de Páscoa]";
	mes "\"Quase terminando...\"";
	mes "";
	mes "Depois de mais alguns acabamentos ele finalmente o termina.";
	next;
	goto _fazerovo6;

_fazerovo6:
	getinventorylist;
	if( @inventorylist_count == 100 ) goto _cheio;
	mes "[Guia de Páscoa]";
	mes "\"Aqui está seu ovo de páscoa. Agora você já pode presentear um amigo!\"";
	delitem @idChocolate+@ovotipo, 10;
	delitem  @idCastanha+@ovotipo, 5;
	delitem @idTintaGuache+@ovocor, 1;
	getitem @idOvoPascoa+@ovocor, 1;
	close;


}
