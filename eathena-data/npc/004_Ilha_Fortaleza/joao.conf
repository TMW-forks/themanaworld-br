////////////////////////////////////////////////////////////////////////
//  PROGRAMADOR: twisterbk
//  REVISÃO: Alastrim
//  CRIAÇÃO: 01/09/2010 7:39 PM
//  UTILIDADE DO SCRIPT:
//    * Requisitos: 10 Cogumelos Pequenos dropados por Monstros Cogumelo
//    * Premio: Espada Curta e um Chapéu Cogumelo
////////////////////////////////////////////////////////////////////////

004.gat,101,25,0	script	João	160,{

	set @CongumeloPequeno, 566;
	set @EspadaCurta, 536;
	set @ChapeuCogumelo, 630;
	set @HasteRosa, 751;

	if (getequipid(equip_head) == 630) goto _soco;
	if (QUEST_trasgo == 9) goto _inicio;
	if (QUEST_trasgo == 10) goto _retornocogumelo;
	if (QUEST_trasgo == 11) goto _obrigado;

	mes "[Joao]";
	mes "\"Que arrependimento... Quando comprei essa casinha era tudo tão tranquilo...";
	next;
	mes "[Joao]";
	mes "\"Mas agora os cogumelos tomaram conta do território... Mal dá para sair de casa sem ser atacado!";
	close;

_inicio:
	mes "[Joao]";
	mes "\"Malditos Cogumelos... Já cheguei no meu limite! Minha filha nao consegue nem ir à escola!";
	mes "E o duro é que eu nao posso fazer nada, eles são perigosos demais!\"";
	next;
	menu
		"Eles me parecem meio bobos, o senhor esta realmente com medo?", _razao,
		"Nao tenho tempo para estas coisas!.", -;
	close;


_porque:
	mes "[Joao]";
	mes "\"Desculpa, é que estou estressado com esses cogumelos e quando vi o seu chapéu "+
	"acabei agindo por instinto para me defender.\"";
	close;

_soco:
	mes "[Joao]";
	mes "\"Malditos Cogumelos! Nao deixam a Ilha Fortaleza em paz!\"";
	next;
	mes "Joao lhe da um soco bem dado. Voce consegue até ver Passarinhos em volta de ti.";
	heal -250, 0;
	menu
		"Eu heim, esse sujeito é meio louco. Vou sair fora daqui!", -,
		"Opa, o que você está fazendo?!", _porque,

	close;

_razao:
	mes "[Joao]";
	mes "\"Bobos? Bobos porque voce nao passou perto deles ainda!\"";
	mes "\"Se você apenas encostar em um deles todos os outros vem te atacar ao mesmo tempo!\"";
	next;
	menu
		"Voce quer que eu te ajude com eles?", _ajuda,
		"É meu senhor, não posso te ajudar.", -;
close;

_ajuda:
	mes "[Joao]";
	mes "\"É claro! Tudo o que eu quero é que minha vida volte a ser como era antes.\"";
	mes "\"Se voce conseguir 10 Cogumelos Pequenos já vai me ajudar bastante.\"";
	set QUEST_trasgo, 10;
	next;
	menu
		"Claro, ja estou indo", -,
		"Para que o senhor precisa dos cogumelos pequenos?", _cogumelos;
close;

_cogumelos:
	mes "[Joao]";
	mes "\"É que se eu mostrar os 10 cogumelos à minha filha ela vai ter mais confiança para ir à escola.\"";
	mes "\"Ela vai ficar convencida de que fui eu que dei uma lição neles e que eu posso protegê-la dos cogumelos.\"";
	next;
	mes "[Joao]";
	mes "\"Ah, e como eu tenho um pouco de dinheiro guardado, "+
	"eu poderei te dar 50KGP se voce me ajudar. Talvez até algum outro presente!\"";
	close;

_retornocogumelo:
	mes "[Joao]";
	mes "\"Voce pegou os Cogumelos Pequenos?\"";
	next;
	menu
		"Ainda não, mas não se preocupe eu vou traze-los para voce.", -,
		"Claro, aqui estão!", _trocacogumelo;
	close;

_trocacogumelo:
	if (countitem(@CongumeloPequeno) < 10) goto _enganou;
	getinventorylist;
	if( (@inventorylist_count + 2) >= 100) goto _cheio;
	delitem @CongumeloPequeno, 10;
	getitem @EspadaCurta, 1;
	getitem @ChapeuCogumelo, 1;
	set QUEST_trasgo, 11;
	mes "[Joao]";
	mes "\"Que bom que voce me trouxe os Cogumelos Pequenos, agora eu posso "+
	"te dar a recompensa. Aceite esta faca que ganhei de meu pai quando tinha 11 anos "+
	"e este Chapéu Cogumelo, para voce lembrar que foi corajoso o suficiente para derrotar aqueles Cogumelos Malditos.\""; 
	close;

_enganou:
	mes "[Joao]";
	mes "\"Voce mentiu, me traga os Cogumelos Pequenos e dê logo uma lição naqueles Cogumelos Malditos.\"";
	close;

_cheio:
	mes "[Joao]";
	mes "\"Você não tem espaço para carregar os meus presentes!\"";
	close;

_obrigado:
	mes "[Joao]";
	mes "\"Como é bom ver voce denovo. Minha vida ainda está difícil, mas minha filha está bem mais confiante!\"";
	menu
		"Nao precisava agradecer amigao!",-;
	close;
}
