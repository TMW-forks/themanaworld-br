// Morte de férias - Halloween 2010

008.gat,31,103,0	script	Servo de Hades	324,{

// checagens iniciais

	set @lvl, baselevel;
	if (@lvl <= 30) set @status, 1;
	if (@lvl > 40 && @lvl <= 50) set @status, 2;
	if (@lvl > 50 && @lvl <= 60) set @status, 3;
	if (@lvl > 60 && @lvl <= 70) set @status, 4;
	if (@lvl > 70 && @lvl <= 80) set @status, 5;
	if (@lvl > 80) set @status, 6;

	if (morteferias == 1) goto _hito1confere;
	if (morteferias == 2) goto _hito2;
	if (morteferias == 3) goto _hito2confere;
	if (morteferias == 4) goto _hito3;
	if (morteferias == 5) goto _hito3confere;
	if (morteferias == 6) goto _hito4;
	if (morteferias == 7) goto _hito4confere;
	if (morteferias == 8) goto _hito5;
	if (morteferias == 9) goto _hito5confere;
	if (morteferias == 10) goto _hito6;
	if (morteferias == 11) goto _hito6confere;
	if (morteferias == 12) goto _hitofim;

// Menu inicial - Primeira vez que fala com o NPC

	mes "Se apresenta e pede ajuda";
	menu
		"Sim.",_hito1,
		"Não.",-;
	close;

// Oferece quest das hitodamas Verdes

_hito1:
	mes "Explicação sobre as hitodamas verdes";
	mes "Diz quantas devem ser coletadas.";
	set morteferias, 1;
	close;

// Confere quest das hitodamas Verdes

_hito1confere:
	mes "Pergunta se tem tudo.";
	menu
		"Ainda não",_fim,
		"Sim.",-;
	if (countitem(3151) < 10) goto _insuficiente;
	if (morteferias_contagem < 10) goto _insuficiente2;
	delitem 3151, 10;
	// Colocar o prêmio aqui
	set morteferias, 2;
	set morteferias_contagem, 0;
	close;

// Oferece quest das hitodamas Azuis

_hito2:
	if (@status < 2), goto _lvlbaixo;
	mes "Explicação sobre as hitodamas azuis";
	mes "Diz quantas devem ser coletadas.";
	set morteferias, 3;
	close;

// Confere quest das hitodamas Azuis

_hito2confere:
	mes "Pergunta se tem tudo.";
	menu
		"Ainda não",_fim,
		"Sim.",-;
	if (countitem(3152) < 10) goto _insuficiente;
	if (morteferias_contagem < 10) goto _insuficiente2;
	delitem 3152, 10;
	// Colocar o prêmio aqui
	set morteferias, 4;
	set morteferias_contagem, 0;
	close;

// Oferece quest das hitodamas Amarelas

_hito3:
	if (@status < 3), goto _lvlbaixo;
	mes "Explicação sobre as hitodamas amarelas";
	mes "Diz quantas devem ser coletadas.";
	set morteferias, 5;
	close;

// Confere quest das hitodamas Amarelas

_hito3confere:
	mes "Pergunta se tem tudo.";
	menu
		"Ainda não",_fim,
		"Sim.",-;
	if (countitem(3153) < 10) goto _insuficiente;
	if (morteferias_contagem < 10) goto _insuficiente2;
	delitem 3153, 10;
	// Colocar o prêmio aqui
	set morteferias, 6;
	set morteferias_contagem, 0;
	close;

// Oferece quest das hitodamas Vermelhas

_hito4:
	if (@status < 4), goto _lvlbaixo;
	mes "Explicação sobre as hitodamas vermelhas";
	mes "Diz quantas devem ser coletadas.";
	set morteferias, 7;
	close;

// Confere quest das hitodamas Vermelhas

_hito4confere:
	mes "Pergunta se tem tudo.";
	menu
		"Ainda não",_fim,
		"Sim.",-;
	if (countitem(3154) < 10) goto _insuficiente;
	if (morteferias_contagem < 10) goto _insuficiente2;
	delitem 3154, 10;
	// Colocar o prêmio aqui
	set morteferias, 8;
	set morteferias_contagem, 0;
	close;

// Oferece quest das hitodamas Violetas

_hito5:
	if (@status < 5), goto _lvlbaixo;
	mes "Explicação sobre as hitodamas violetas";
	mes "Diz quantas devem ser coletadas.";
	set morteferias, 9;
	close;

// Confere quest das hitodamas Violetas

_hito5confere:
	mes "Pergunta se tem tudo.";
	menu
		"Ainda não",_fim,
		"Sim.",-;
	if (countitem(3155) < 10) goto _insuficiente;
	if (morteferias_contagem < 10) goto _insuficiente2;
	delitem 3155, 10;
	// Colocar o prêmio aqui
	set morteferias, 10;
	set morteferias_contagem, 0;
	close;

// Oferece quest das hitodamas Negras

_hito6:
	if (@status < 6), goto _lvlbaixo;
	mes "Explicação sobre as hitodamas negras";
	mes "Diz quantas devem ser coletadas.";
	set morteferias, 11;
	close;

// Confere quest das hitodamas Negras

_hito6confere:
	mes "Pergunta se tem tudo.";
	menu
		"Ainda não",_fim,
		"Sim.",-;
	if (countitem(3156) < 10) goto _insuficiente;
	if (morteferias_contagem < 10) goto _insuficiente2;
	delitem 3156, 10;
	// Colocar o prêmio aqui
	set morteferias, 12;
	set morteferias_contagem, 0;
	close;

// Aqui é quando o jogador completou todas as tarefas

_hitofim:
	mes "Mensagem final";
	close;

// Aqui é só uma label de saída

_fim:
	close;


// Aqui ele fala quantos levels ele precisa para uma tarefa, caso o jogador não seja forte o suficiente

_lvlbaixo:
	set @resta, (@status*10 + 1) - @lvl;
	mes "Eu tenho mais uma tarefa para te pedir, mas você não é forte o suficiente para me ajudar! Quem sabe se conseguir mais " +@resta+ " níveis?";
	close;

// Aqui é quando o jogador não tem todas as hitodamas que ele quer

_insuficiente:
	mes "Você não tem todas as hitodamas que eu te pedi!";
	close;

_insuficiente2:
	mes "Você tem as hitodamas, mas não as conseguiu usando suas próprias armas!";
	close;
}
